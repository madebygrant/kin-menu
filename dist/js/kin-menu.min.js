"use strict";function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}
/**
 * @preserve: Kin Menu, v1.0
 * @url: https://github.com/madebygrant/kin-menu
 * @author: Grant, https://madebygrant.com
 */var _=function(e,t){return(t=t||document).querySelector(e)},__=function(e,t){return(t=t||document).querySelectorAll(e)},_id=function(e,t){return(t=t||document).getElementById(e)},ready=function(e){document.attachEvent?document.readyState:"loading"!==document.readyState?e():document.addEventListener("DOMContentLoaded",e)},KinMenu=function(){function e(t){_classCallCheck(this,e);var n={windowWidth:960,lockPage:!1,pageContent:document.getElementsByTagName("main")[0],groups:!1,toggleButton:{spans:3,text:"",hasWrapper:!1,wrapperContent:!1}};t.toggleButton=Object.assign(n.toggleButton,t.toggleButton),this._options=Object.assign(n,t),this._AllItems=[],this._content="string"==typeof this._options.pageContent?_(this._options.pageContent):"object"==_typeof(this._options.pageContent)&&this._options.pageContent,this._body=document.body,this._prefix="kin"}return _createClass(e,[{key:"helper",value:function(){var e=this;return{safeText:function(e){var t=document.createElement("div");return t.textContent=e,t.innerText},addElement:function(t,n,o){if("string"==typeof o){var a;switch(n){case"append":a="beforeend";break;case"prepend":a="afterbegin";break;case"before":a="beforebegin";break;case"after":a="afterend"}o=e.helper().safeText(o),t.insertAdjacentHTML(a,o)}else if("object"===_typeof(o))switch(n){case"append":t.append(o);break;case"prepend":t.prepend(o);break;case"before":t.parentNode.insertBefore(o,t);break;case"after":t.parentNode.insertBefore(o,t.nextSibling)}},nextSibling:function(e,t){var n=e.nextElementSibling;if(!t)return n;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}}}},{key:"createToggleWrapper",value:function(){var e=this,t=this._prefix,n=this._options.toggleButton.wrapperContent;if(Array.isArray(n))n.forEach((function(n){("string"==typeof n?__(n):n).forEach((function(n){var o=n.cloneNode(!0);o.classList.add(t+"-toggle__item"),e.helper().addElement(_id(t+"-toggle"),"append",o)}))}));else if(0!=n){("string"==typeof n?__(n):n).forEach((function(n){var o=n.cloneNode(!0);o.classList.add(t+"-toggle__item"),e.helper().addElement(_id(t+"-toggle"),"append",o)}))}}},{key:"createGroup",value:function(e,t){var n,o,a=this,r=this._prefix,i="string"==typeof e.class?[e.class]:Array.isArray(e.class)?e.class:[];e.element&&((o=(n=document.createElement(e.element)).classList).add.apply(o,[r+"__group",r+"__group--"+t].concat(_toConsumableArray(i))),e.clones.forEach((function(e){document.querySelectorAll(e).forEach((function(e){var t,o;o=(t=e.cloneNode(!0)).getAttribute("id"),t.classList.add(r+"__item"),o&&t.setAttribute("id",r+"__"+o),a.helper().addElement(n,"append",t),e.classList.add(r+"-selected")}))})));return n}},{key:"createBase",value:function(){var e,t=this,n=this._prefix,o=this._options,a=""!=o.toggleButton.text?t.helper().safeText(o.toggleButton.text):"";if(e=o.toggleButton.hasWrapper?'<div id="'.concat(n,'-toggle" class="').concat(n,'-toggle"><button type="button" id="').concat(n,'-toggle-button" class="').concat(n,"-toggle-button ").concat(n,'-toggle__button" aria-controls="').concat(n,'" aria-label="Toggle Menu" aria-expanded="false">').concat(a,"</button></div>"):'<button type="button" id="'.concat(n,'-toggle-button" class="').concat(n,'-toggle-button" aria-controls="').concat(n,'" aria-label="Toggle Menu" aria-expanded="false">').concat(a,"</button>"),t.helper().addElement(this._body,"prepend",e+'<div id="'.concat(n,'" class="').concat(n,'"><div id="').concat(n,'__inner" class="').concat(n,'__inner"></div>')),Number.isInteger(o.toggleButton.spans)&&0!==o.toggleButton.spans){for(var r=_id(n+"-toggle-button"),i=0;i<o.toggleButton.spans;i++){var s=document.createElement("span");s.classList.add(n+"-toggle-button__span",n+"-toggle-button__span--"+i),t.helper().addElement(r,"append",s)}r.classList.add(n+"-toggle-button--spans-"+r.children.length)}o.toggleButton.hasWrapper&&t.createToggleWrapper()}},{key:"create",value:function(){if(Array.isArray(this._options.groups)&&!this._body.classList.contains(this._prefix+"-is--loaded")){var e=this,t=this._prefix,n=this._options;if(e._body.classList.add(t+"-is--loaded",t+"-is--closed"),!document.contains(_id(t))){e.createBase();var o={base:_id(t),inner:_id(t+"__inner"),toggleButton:_id(t+"-toggle-button")};this._content.classList.add(t+"-content"),n.groups.forEach((function(t,n){var a=e.createGroup(t,n);e.helper().addElement(o.inner,"append",a),e._AllItems=[].concat(_toConsumableArray(e._AllItems),_toConsumableArray(t.clones))}));var a=__('a[href="'+window.location+'"]',o.inner);a.length>0&&a.forEach((function(e){e.classList.add("is-current-page"),e.parentNode.classList.add("child-is-current-page"),e.closest("."+t+"__item").classList.add(t+"__item--has-current-page")})),__("ul li, .has-dropdowns",o.inner).forEach((function(n,a){var r=n.getElementsByTagName("ul");r[0]&&(r[0].classList.add(t+"__drop"),e.helper().addElement(n,"prepend",'<input aria-hidden="true" class="'.concat(t,'__checkbox" type="checkbox" name="sub-group--').concat(a,'" id="sub-group--').concat(a,'"/><label class="').concat(t,'__label" for="sub-group--').concat(a,'"></label>')),o.base.classList.contains(t+"--multi")||o.base.classList.add(t+"--multi"))})),o.inner.querySelectorAll(".".concat(t,"__checkbox")).forEach((function(n){n.addEventListener("change",(function(o){var a=e.helper().nextSibling(n,".".concat(t,"__drop")),r=e.helper().nextSibling(n,".".concat(t,"__label"));!1===a.classList.contains(t+"__drop--active")?(r.classList.add(t+"__label--active"),a.classList.add(t+"__drop--active")):(r.classList.remove(t+"__label--active"),a.classList.remove(t+"__drop--active"))}),!1)})),document.contains(o.toggleButton)&&o.toggleButton.addEventListener("click",(function(t){e.toggle(),t.preventDefault()}))}}}},{key:"toggle",value:function(){var e=this._body,t=this._prefix,n={base:_id(t),content:_("."+t+"-content"),toggleButton:_id(t+"-toggle-button")};e.classList.toggle(t+"-is--open"),e.classList.toggle(t+"-is--closed"),n.base.classList.toggle(t+"--active"),n.toggleButton.classList.toggle(t+"-toggle-button--active"),n.content.classList.toggle(t+"-content--active"),"false"==n.toggleButton.getAttribute("aria-expanded")?n.toggleButton.setAttribute("aria-expanded","true"):n.toggleButton.setAttribute("aria-expanded","false")}},{key:"destroy",value:function(){var e=this,t=this._body,n=this._content,o=this._prefix;if(t.classList.contains(o+"-is--loaded")){var a,r=_id(o),i=_id(o+"-toggle-button"),s=_id(o+"-toggle"),c=[o+"-is--loaded",o+"-is--closed",o+"-is--open"];(a=t.classList).remove.apply(a,c),n.classList.remove(o+"-content",o+"-content--active"),r.parentNode.removeChild(r),e._options.toggleButton.hasWrapper?s.parentNode.removeChild(s):i.parentNode.removeChild(i),e._AllItems.forEach((function(e){__(e).forEach((function(e){e.classList.remove(o+"-selected")}))})),e._AllItems=[]}}},{key:"setStyle",value:function(e){"string"==typeof e&&document.body.setAttribute("data-"+this._prefix,e)}},{key:"init",value:function(){var e=this,t=this._options;ready((function(){(document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth)<=t.windowWidth&&e.create()})),window.addEventListener("resize",(function(){(document.documentElement.clientWidth||document.getElementsByTagName("body")[0].clientWidth)>=t.windowWidth?e.destroy():e.create()}))}}]),e}();